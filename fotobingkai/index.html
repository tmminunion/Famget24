<!DOCTYPE html>
<html lang="ID">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"
    />
    <meta
      name="description"
      content="pembuat avatar foto dengan bingkai edisi FAMGET 2024"
    />
    <meta name="author" content="Nunu Fatulah" />
    <meta name="generator" content="Hugo 0.88.1" />
    <title>Foto Bingkai - Famget 2024</title>
    <meta property="og:type" content="album" />
    <meta property="og:title" content="Foto Bingkai - FAMGET 2024" />
    <meta
      property="og:description"
      content="pembuat avatar foto dengan bingkai edisi FAMGET 2024. silahkan di share dan digunakan untuk meriahkan event FAMGET 2024"
    />
    <meta property="og:url" content="https://bungtemin.com/tw" />
    <meta property="og:image" content="https://bungtemin.com/tw/foto.jpg" />
    <meta
      name="nama-header"
      content="XIXSl2pjBgqEUjTp0Z3zppqMb6bztJR7t%2Fr%2FGeH9OAPQ3%2BxGggsgLLEcM2UorCJYZCZezJ1MAqV7eTS1HO0pTA%3D%3D"
    />
    <meta name="nama-topik" content="twibone" />

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/socket.io-client@4.7.4/dist/socket.io.min.js"></script>
    <script src="https://twibone.bungtemin.net/assets/fot.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/interactjs/dist/interact.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-touch-events/2.0.3/jquery.mobile-events.js"></script>
    <!-- Bootstrap core CSS -->
    <link
      href="https://twibone.bungtemin.net/assets/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <script src="https://twibone.bungtemin.net/assets/dist/js/bootstrap.bundle.min.js"></script>
    <style></style>
    <!-- Link Swiper's CSS -->
    <link
      rel="stylesheet"
      href="https://unpkg.com/swiper/swiper-bundle.min.css"
    />

    <!-- Demo styles -->
    <style>
      .cardcontainer {
        width: 100%;
        height: auto;
        background-color: white;
        margin-left: auto;
        margin-right: auto;
        transition: 0.3s;
      }

      .cardcontainer:hover {
        box-shadow: 0 0 45px gray;
      }

      .photo {
        height: auto;
        width: 100%;
      }

      .photo img {
        height: 100%;
        width: 100%;
      }

      .txt1 {
        margin: auto;
        text-align: center;
        font-size: 17px;
      }

      .content {
        width: 95%;
        height: 60px;
        margin-left: auto;
        margin-right: auto;
        position: relative;
        top: -33px;
      }

      .txt4 {
        font-size: 17px;
        position: relative;
        color: #e74c3c;
        top: 33px;
      }

      .txt2 {
        font-size: 12px;
        position: relative;
        top: 20px;
      }

      .footer {
        width: 80%;
        height: 70px;
        margin-left: auto;
        margin-right: auto;
        background-color: white;
        position: relative;
        top: -15px;
      }

      .btn {
        position: relative;
        top: 20px;
      }

      .txt3 {
        color: gray;
        position: relative;
        top: 18px;
        font-size: 14px;
      }

      .comments {
        float: right;
        cursor: pointer;
      }
      .swiper {
        width: 100%;
        padding-bottom: 10px;
        padding-top: 10px;
      }

      .swiper-slide {
        background-position: center;
        background-size: cover;
        width: 100%;
        height: auto;
      }

      .swiper-slide img {
        display: block;
        width: 100%;
      }

      .nav-scroller {
        position: relative;
        z-index: 2;
        height: 2.4rem;
        overflow-y: hidden;
      }

      .nav-scroller .nav {
        display: flex;
        flex-wrap: nowrap;
        padding-bottom: 1rem;
        margin-top: -1px;
        overflow-x: auto;
        text-align: center;
        white-space: nowrap;
        -webkit-overflow-scrolling: touch;
      }
      main.custom-container {
        margin: 0 auto;
        /* Untuk menengahkan elemen main secara horizontal */
        height: 100vh;
        /* Menyesuaikan tinggi elemen main ke tinggi viewport */
      }

      /* Menyesuaikan lebar konten untuk perangkat layar besar */
      @media (min-width: 992px) {
        .custom-container {
          width: 30%;
        }
      }

      .action-icons {
        position: absolute;
        bottom: -25px;
        right: 5px;
      }

      .action-icons img {
        width: 40px; /* Sesuaikan ukuran ikon sesuai kebutuhan */
        margin-left: 5px; /* Jarak antar ikon */

        cursor: pointer;
      }
      .love-container {
        display: flex;
        flex-direction: column;
        align-items: center;
        margin-bottom: 15px;
      }

      .love-icon {
        margin-bottom: 1px;
      }

      .love-count {
        font-size: 10px;
        padding: 5px;
        background-color: rgba(0, 0, 0, 0.5); /* Hitam agak transparan */
        color: #fff; /* Tulisan putih */
        border-radius: 5px; /* Sudut bulat 5px */
      }
    </style>
    <style>
      #html-content-holder {
        position: relative;
        overflow: hidden; /* Menyembunyikan bagian gambar yang keluar dari bingkai */
      }

      #uploaded-image {
        position: absolute; /* Pastikan gambar bisa diatur posisi */
        top: 0;
        left: 0;
        transform-origin: top left; /* Untuk memastikan scaling bekerja dari sudut kiri atas */
      }
    </style>

    <style>
      .swal2-icon.swal2-no-border {
        border: none !important;
        box-shadow: none !important;
      }
    </style>
    <style>
      @keyframes heartbeat {
        0% {
          transform: scale(1);
        }
        14% {
          transform: scale(1.3);
        }
        28% {
          transform: scale(1);
        }
        42% {
          transform: scale(1.3);
        }
        70% {
          transform: scale(1);
        }
      }

      .swal2-icon.swal2-no-border {
        border: none !important;
        box-shadow: none !important;
        animation: heartbeat 1.5s infinite;
      }
      .swal2-custom {
        background-color: rgba(0, 0, 0, 0.3) !important;
      }
    </style>
    <style>
      .swal2-custom .swal2-title {
        color: red !important;
      }

      .swal2-custom .swal2-content {
        color: red !important;
      }
      .swal2-custom .swal2-text {
        color: white !important;
      }

      .swal2-custom .swal2-confirm,
      .swal2-custom .swal2-cancel {
        color: white !important; /* Warna teks untuk tombol */
      }

      /* Untuk mengatur warna background tombol */
      .swal2-custom .swal2-confirm {
        background-color: red !important;
      }
      .swal2-custom .swal2-cancel {
        background-color: grey !important;
      }
      .swal2-custom .swal2-html-container {
        color: white !important; /* Untuk SweetAlert2 versi terkini, teks isi berada di dalam container ini */
      }
    </style>
    <script>
      const characters =
        "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";

      function generateString(length) {
        let result = "BT";
        const charactersLength = characters.length;
        for (let i = 0; i < length; i++) {
          result += characters.charAt(
            Math.floor(Math.random() * charactersLength)
          );
        }

        return result;
      }

      function checkID() {
        localStorage.setItem("deviceIDi", "00415024");
        $("#hidden_datauser").val(localStorage.getItem("deviceIDi"));
      }
    </script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
  </head>

  <body>
    <header>
      <div class="collapse bg-dark" id="navbarHeader">
        <div class="container">
          <div class="row">
            <div class="col-sm-8 col-md-7 py-4">
              <h2 class="text-white">NUNU FATULAH</h2>
              <h5 class="text-white">00415024</h5>
              <hr class="bg-white" />
              <h4 class="text-white">Catatan :</h4>
              <p class="text-muted">
                Silahkan Upload foto terbaik kamu dengan 9 pilihan frame yang
                tersedia dan menangkan Doorprize menarik untuk Foto Bingkai
                terbaik.
              </p>
            </div>
            <div class="col-sm-4 offset-md-1 py-2">
              <h4 class="text-white">Menu</h4>
              <ul class="list-unstyled">
                <li>
                  <a href="https://twibone.bungtemin.net/" class="text-white"
                    >Beranda</a
                  >
                </li>
                <li>
                  <a
                    href="https://twibone.bungtemin.net/bingkai"
                    class="text-white"
                    >Bingkai</a
                  >
                </li>

                <li>
                  <a
                    href="https://twibone.bungtemin.net/albumall"
                    class="text-white"
                    id="linkalbum"
                    >Foto Steam</a
                  >
                </li>
                <li>
                  <a
                    href="https://twibone.bungtemin.net/albumku"
                    class="text-white"
                    id="linkalbum"
                    >Albumku</a
                  >
                </li>
                <li>
                  <a
                    href="https://twibone.bungtemin.net/login/logout.php"
                    class="text-white"
                    id="linkalbum"
                    >Keluar</a
                  >
                </li>
              </ul>
            </div>
          </div>
        </div>
      </div>
      <div class="navbar navbar-dark bg-dark shadow-sm">
        <div class="container">
          <a href="index.html" class="navbar-brand d-flex align-items-center">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="20"
              height="20"
              fill="none"
              stroke="currentColor"
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              aria-hidden="true"
              class="me-2"
              viewBox="0 0 24 24"
            >
              <path
                d="M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"
              />
              <circle cx="12" cy="13" r="4" />
            </svg>
            <strong>Foto Bingkai</strong>
          </a>
          <button
            class="navbar-toggler"
            type="button"
            data-bs-toggle="collapse"
            data-bs-target="#navbarHeader"
            aria-controls="navbarHeader"
            aria-expanded="false"
            aria-label="Toggle navigation"
          >
            <span class="navbar-toggler-icon"></span>
          </button>
        </div>
      </div>
    </header>

    <main class="custom-container align-center">
      <section class="container">
        <div class="swiper mySwiper">
          <div class="swiper-wrapper">
            <div class="swiper-slide">
              <img
                src="https://twibone.bungtemin.net/images/FAMGET2024/1.png"
                class="pilihanimag"
                data-id="1"
              />
            </div>
            <div class="swiper-slide">
              <img
                src="https://twibone.bungtemin.net/images/FAMGET2024/2.png"
                class="pilihanimag"
                data-id="2"
              />
            </div>
            <div class="swiper-slide">
              <img
                src="https://twibone.bungtemin.net/images/FAMGET2024/3.png"
                class="pilihanimag"
                data-id="3"
              />
            </div>
            <div class="swiper-slide">
              <img
                src="https://twibone.bungtemin.net/images/FAMGET2024/4.png"
                class="pilihanimag"
                data-id="4"
              />
            </div>
            <div class="swiper-slide">
              <img
                src="https://twibone.bungtemin.net/images/FAMGET2024/5.png"
                class="pilihanimag"
                data-id="5"
              />
            </div>
            <div class="swiper-slide">
              <img
                src="https://twibone.bungtemin.net/images/FAMGET2024/6.png"
                class="pilihanimag"
                data-id="6"
              />
            </div>
            <div class="swiper-slide">
              <img
                src="https://twibone.bungtemin.net/images/FAMGET2024/7.png"
                class="pilihanimag"
                data-id="7"
              />
            </div>
            <div class="swiper-slide">
              <img
                src="https://twibone.bungtemin.net/images/FAMGET2024/8.png"
                class="pilihanimag"
                data-id="8"
              />
            </div>
            <div class="swiper-slide">
              <img
                src="https://twibone.bungtemin.net/images/FAMGET2024/9.png"
                class="pilihanimag"
                data-id="9"
              />
            </div>
          </div>
          <div class="swiper-pagination"></div>
        </div>

        <!-- Swiper JS -->
        <script src="https://unpkg.com/swiper/swiper-bundle.min.js"></script>

        <!-- Initialize Swiper -->
        <script>
          $(".swiper-wrapper").html(
            $(".swiper-wrapper .swiper-slide").sort(function () {
              return Math.random() - 0.5;
            })
          );

          var swiper = new Swiper(".mySwiper", {
            effect: "coverflow",
            grabCursor: true,
            centeredSlides: true,
            loop: true,
            slidesPerView: 4,
            coverflowEffect: {
              rotate: 50,
              stretch: 0,
              depth: 100,
              modifier: 1,
              slideShadows: true,
            },
          });
        </script>

        <div class="row py-lg-5">
          <div class="form-file-upload">
            <div
              class="upload-btn-wrapper bg-success p-1 rounded"
              style="margin-bottom: 10px"
            >
              <input
                type="file"
                name="FileOne"
                size="40"
                class="form-control form-control-lg"
                placeholder="Upload Foto"
                id="FileOne"
                aria-invalid="false"
              />
            </div>
          </div>

          <center>
            <div
              id="html-content-holder"
              class="ratio ratio-1x1"
              style="
                position: relative;
                padding: 0px;
                width: 100%;
                max-width: 500px; /* Batas ukuran maksimal */
                aspect-ratio: 1 / 1; /* Menjaga proporsi 1:1 */
                margin: auto;
              "
            >
              <!-- Gambar Unggahan (Latar Belakang) -->
              <div
                id="background-layer"
                style="
                  position: absolute; /* Pastikan gambar latar berada dalam layer yang sama */
                  top: 0;
                  left: 0;
                  width: 100%;
                  height: 100%;
                  z-index: 1; /* Z-index lebih rendah untuk gambar unggahan */
                "
              >
                <img
                  id="uploaded-image"
                  src=""
                  style="width: 100%; height: 100%; object-fit: cover"
                  alt="User Upload"
                />
              </div>

              <!-- Gambar Bingkai (Layer Kedua) -->
              <div
                id="frame-layer"
                style="
                  position: absolute;
                  top: 0;
                  left: 0;
                  width: 100%;
                  height: 100%;
                  z-index: 2; /* Z-index lebih tinggi untuk bingkai */
                  pointer-events: none; /* Mencegah interaksi dengan layer bingkai */
                "
              >
                <img
                  src="https://twibone.bungtemin.net/images/FAMGET2024/1.png"
                  id="imgfarmer"
                  class="img-fluid"
                  style="
                    width: 100%;
                    height: 100%;
                    object-fit: contain; /* Jaga proporsi frame */
                  "
                  alt="Frame"
                />
              </div>
            </div>
            <input
              type="range"
              class="form-range"
              id="customRange3"
              min="-50"
              max="200"
              value="50"
            />

            <input
              type="range"
              class="form-range"
              id="customRange3"
              min="-50"
              max="200"
              value="50"
              style="display: none"
            />

            <input type="text" id="namaupload" style="display: none" />
            <div class="d-grid gap-2 col-6 mx-auto">
              <input
                id="btn_convert"
                type="button"
                value="Download"
                class="btn btn-primary btn-lg"
                style="display: none"
              />
            </div>

            <div id="previewImg" style="display: none"></div>
            <img
              src="https://twibone.bungtemin.net/img/barload.gif"
              id="barload"
              style="width: 250px; display: none"
            />
            <span id="modfinis"></span>
          </center>

          <form
            method="post"
            accept-charset="utf-8"
            name="form1"
            target="my-iframe"
            action="#"
            id="bwee"
            style="display: none"
          >
            <input name="hidden_data" id="hidden_data" type="hidden" />
            <input name="hidden_datanama" id="hidden_datanama" type="hidden" />
            <input name="hidden_datauser" id="hidden_datauser" type="hidden" />
            <input name="hidden_datatype" id="hidden_datatype" type="hidden" />
            <input type="hidden" name="hidden_kategori" value="FAMGET2024" />
            <input
              type="hidden"
              id="hidden_noreg"
              name="noreg"
              value="00415024"
            />
            <input
              type="hidden"
              id="hidden_fullname"
              name="fullname"
              value="NUNU FATULAH"
            />
          </form>

          <iframe
            name="my-iframe"
            src=""
            id="framesub"
            style="display: none"
          ></iframe>
          <!-- <script type="text/javascript" src="https://twibone.bungtemin.net/assets/dist/file2.js"></script> -->

          <script>
            var keys = { 37: 1, 38: 1, 39: 1, 40: 1 };
            function preventDefault(e) {
              e.preventDefault();
            }

            function preventDefaultForScrollKeys(e) {
              if (keys[e.keyCode]) {
                preventDefault(e);
                return false;
              }
            }

            var supportsPassive = false;
            try {
              window.addEventListener(
                "test",
                null,
                Object.defineProperty({}, "passive", {
                  get: function () {
                    supportsPassive = true;
                  },
                })
              );
            } catch (e) {}

            var wheelOpt = supportsPassive ? { passive: false } : false;

            function disableScroll() {
              window.addEventListener("touchmove", preventDefault, wheelOpt);
              window.addEventListener(
                "keydown",
                preventDefaultForScrollKeys,
                false
              );
            }

            function enableScroll() {
              window.removeEventListener("touchmove", preventDefault, wheelOpt);
              window.removeEventListener(
                "keydown",
                preventDefaultForScrollKeys,
                false
              );
            }

            const position = { x: 0, y: 0 };
            let scale = 1;

            interact("#uploaded-image").draggable({
              listeners: {
                move(event) {
                  position.x += event.dx;
                  position.y += event.dy;

                  // Terapkan posisi ke gambar
                  event.target.style.transform = `translate(${position.x}px, ${position.y}px) scale(${scale})`;
                  disableScroll();
                },
                end(event) {
                  enableScroll();
                },
              },
            });

            $(document).ready(function () {
              var namafilenyaq =
                localStorage.getItem("deviceIDi") + "_" + generateString(15);
              $("#namaupload").val(namafilenyaq);
              $("#hidden_datanama").val(namafilenyaq);
              $("#hidden_datauser").val(localStorage.getItem("deviceIDi"));

              $("input[name='FileOne']").on("change", function (event1) {
                var file = event1.target.files[0];
                var img = new Image();

                img.onload = function () {
                  var originalWidth = img.width;
                  var originalHeight = img.height;

                  // Hitung rasio aspek
                  var frameWidth = $("#html-content-holder").width();
                  var frameHeight = $("#html-content-holder").height();
                  var frameAspectRatio = frameWidth / frameHeight;
                  var imageAspectRatio = originalWidth / originalHeight;

                  // Sesuaikan ukuran gambar berdasarkan rasio aspek
                  if (imageAspectRatio > frameAspectRatio) {
                    // Gambar lebih lebar daripada bingkai
                    var newWidth = frameWidth;
                    var newHeight = (newWidth / originalWidth) * originalHeight;
                  } else {
                    // Gambar lebih tinggi daripada bingkai
                    var newHeight = frameHeight;
                    var newWidth = (newHeight / originalHeight) * originalWidth;
                  }

                  // Set ukuran gambar
                  $("#uploaded-image").attr("src", URL.createObjectURL(file));
                  $("#uploaded-image").css({
                    width: newWidth + "px",
                    height: newHeight + "px",
                    transform: `translate(0px, 0px) scale(1)`,
                  });

                  position.x = 0; // Reset posisi
                  position.y = 0; // Reset posisi
                  scale = 1; // Reset skala
                  $("#btn_convert").show();
                };
                img.src = URL.createObjectURL(file);
              });

              $("#customRange3").on("input", function () {
                scale = 1 + $(this).val() / 100; // Skala gambar berdasarkan nilai slider
                $("#uploaded-image").css(
                  "transform",
                  `translate(${position.x}px, ${position.y}px) scale(${scale})`
                );
              });

              document
                .getElementById("btn_convert")
                .addEventListener("click", function () {
                  $("#btn_convert").hide();
                  $("#barload").show();
                  $("#customRange3").hide();

                  html2canvas(document.getElementById("html-content-holder"), {
                    scale: 5, // Mengatur skala lebih tinggi untuk kualitas
                    allowTaint: true,
                    useCORS: true,
                  }).then(function (canvas) {
                    const imgData = canvas.toDataURL("image/jpeg", 1.0);
                    var anchorTag = document.createElement("a");
                    var namafile = $("#namaupload").val() + ".jpg";
                    document.body.appendChild(anchorTag);
                    anchorTag.download = namafile;
                    anchorTag.href = imgData;
                    anchorTag.click();
                    $("#barload").hide();
                    $("#modte").html(
                      "File telah di-download, silahkan cek di folder Download browser"
                    );
                  });
                });
            });
          </script>
        </div>
      </section>
    </main>

    <footer class="text-muted text-center">
      <div class="container">
        <hr />
      </div>

      <div class="footer-copyright">
        <div class="container" color="success">
          <div class="row bg-dark mt-3">
            <div class="col-md-12 text-center py-4">
              <p>
                Copyright Tim Media Bungtemin.net Â© since 2022. All rights
                reserved.
              </p>
            </div>
          </div>
        </div>
      </div>
    </footer>
  </body>
</html>
